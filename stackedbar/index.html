<!DOCTYPE html>
<meta charset="utf-8">

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->

<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

<!-- Load d3.js -->
<script src="https://d3js.org/d3.v4.js"></script>
<!-- https://www.d3-graph-gallery.com/graph/barplot_stacked_hover.html -->

<title>War & Peace (& Happiness)</title>

<!-- Create a div where the graph will take place -->
<style>
    .chosen {
        fill: red
    }

    .row {
        text-align: left;
    }
    h1 {
        font-size: 32px
    }
    h2 {
        font-size: 26px
    }
    h3 {
        font-size: 24px
    }
    h4 {
        font-size: 18px
    }
    p,.col-md-4{
        font-size: 14px
    }
    .clicker {
        cursor: pointer;
    }

    .счастье {
        color: #ef476f
    }

    .радость {
        color: #1b9aaa
    }

    .восторг {
        color: #ffc43d
    }

    .legend,
    .arealegend {
        cursor: pointer
    }

    .bold {
        font-weight: bold
    }

    .notbold {
        font-weight: normal
    }

    .partMarker {
        font-size: smaller
    }

    .examples {
        display: none
    }

    .clear {
        fill: white;

    }

    .figlabel {
        color: gray;
        font-style: italic
    }

    /* for new stacked area */
    .y.axis .domain {
        display: none;
    }

    .center {
        text-align: center
    }
</style>

<body>
    <div class='container' style='margin: 50px; padding: 0;'>
        <br>
        <div class='row'>
            <div class='col-md-12'>
                <h1>Happiness, joy, and rapture in Tolstoy's <i>War and Peace</i></h1>
                <hr>
                <h3>Project abstract:</h3>
                <p>As the basis of my project, I will conduct a data-based investigation of Tolstoy’s use of happiness,
                    joy,
                    and rapture (счастье, радость, & восторг) in the novel and compare the data-based perspective with
                    existing scholarship
                    pertaining to the characterization of selected characters throughout the novel. I
                    will draw my data from the Russian text, search for forms of the keywords above in the vicinity of
                    different characters (Andrei, Pierre, Natasha, Nikolai, Sonya, Marya). I also will look at other
                    words or concepts that frequently occur in the vicinity of these keywords and characters in order to
                    examine the settings (at the front vs. in the salon), gestures (laughter, tears, speech, etc.), or
                    objects (eyes, smile, sky, etc.) that are associated with the happiness of different characters. It
                    is my hypothesis that (1) different characters are more predisposed toward certain intensities of
                    joy (<i>schast'ye</i> being the most reserved, <i>vostorg</i> being most intense, and <i>radost'</i>
                    somewhere in the
                    middle), and/or (2) that Tolstoy includes repeated, subtle associations between happiness and other
                    words that may differ across characters or time. Because of the project’s emphasis on word choice, I
                    investigate the etymological differences between these word and discuss the implications of the
                    words used in translation for <i>schast’ye</i>, <i>radost’</i>, and <i>vostorg</i>. Lastly, I hope
                    to briefly discuss the
                    advantages and disadvantages to examining literature as data.</p>
                <h3>Data methods:</h3>
                <p>
                    I scraped the full Russian version of <i>War and Peace</i> from this website: <a
                        href='https://ilibrary.ru/text/11/index.html'
                        target="_blank">https://ilibrary.ru/text/11/index.html</a>.
                    Using Python in Jupyter Lab, I assembled my own dataset of the Russian text, using tools from <a
                        href='https://github.com/natasha' target='_blank'>Natasha</a>, Alexander Kukushkin's extensive
                    GitHub respository for Russian natural language processing tasks.
                    I mostly made use of <a href='https://github.com/natasha/slovnet' target='_blank'>Slovnet</a>,
                    Kukushkin's deep learning model for Russian, to lemmatize words, since I was interested in finding
                    all forms of words (like <i>schast'ye</i>, <i>schastlivy</i>, <i>schastlivo</i>, etc.).
                    At this point, I searched through the parts of <i>War and Peace</i> for paragraphs where both a
                    character and one of the happiness keywords appeared.
                    The "happiness keywords" used in my analysis were <i>schast'ye</i> (happiness), <i>radost'</i>,
                    (joy) and <i>vostorg</i> (rapture/delight).
                    I assembled a set of paragraphs that contained character/happiness associations, making note of the
                    volume, part, and chapter of the example, the character mentioned, and the "type" of happiness
                    involved.
                    I went through those paragraphs that contained more than one character name to try to disambiguate
                    <i>which</i> character in particular was associated with happiness during that paragraph and removed
                    by hand anything clearly mis-attributed.
                    I used the resulting lists of associations for Andrei, Pierre, and Natasha to build the following
                    visualizations and conduct my analysis.
                </p>
                <hr>
            </div>
        </div>
        <div class='row'>
            <div class='col-md-12'>
                <h3>Definitions and etymology in English and Russian</h3>
                <p>This project is interested in occurrences of the words happiness, joy, and rapture when used in the
                    context of contentment, pleasure, and emotional happiness, although these words can have alternate
                    meanings (like
                    "happy coincidence," where happy is more akin to fortunate). Definitions and etymology are
                    taken from the Oxford English Dictionary online.
                    Russian definitions come from Kuznetsov's <i>Comprehensive Explanatory Dictionary of the Russian
                        Language</i>. Russian etymology from Vasmer's <i>Etymological Dictionary of the Russian Language</i> (Translations of excerpts from both Russian dictionaries are my own).
                </p>
            </div>
        </div>
        <div class='row'>
            <div class='col-md-4'>
                <div style='text-align: center;'>
                    <h4>Happiness</h4>
                    <h4><i>schast'ye</i>/счастье</h4>
                </div>
            </div>
            <div class='col-md-4'>
                <div style='text-align: center;'>
                    <h4>Joy</h4>
                    <h4> <i>radost'</i>/радость</h4>
                </div>
            </div>
            <div class='col-md-4'>
                <div style='text-align: center;'>
                    <h4>Rapture/delight</h4>
                    <h4><i>vostorg</i>/восторг</h4>
                </div>
            </div>
        </div>
        <br>
        <div class="accordion" id="accordionExample">
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                    <h4>English definitions (Oxford English Dictionary)</h4>
                </button>
              </h2>
              <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" >
                <div class="accordion-body">
                    <div class='row'>
                        <div class='col-md-4'>
                            <b>Definition of happiness (English)</b>:
                            <ol>
                                <li>Feeling or showing a deep sense of pleasure or contentment, esp. arising from satisfaction with
                                    one's circumstances or condition; (also) marked by or expressive of such a feeling. More
                                    generally in weakened use: glad, pleased; satisfied, content.</li>
                            </ol>
            
                        </div>
                        <div class='col-md-4'>
                            <b>Definition of joy (English)</b>:
                            <ol>
                                <li>A vivid emotion of pleasure arising from a sense of well-being or satisfaction; the feeling or
                                    state of being highly pleased or delighted; exultation of spirit; gladness, delight.</li>
                            </ol>
                        </div>
                        <div class='col-md-4'>
                            <b>Definition of rapture (English)</b>:
                            <ol>
                                <li>Chiefly in plural. A state, condition, or fit of intense delight or enthusiasm. Now frequently
                                    <i>to be in raptures:</i> to be delightedly enthusiastic. <i>to go into raptures:</i> to talk
                                    with (esp. affected) enthusiasm and delight.
                                </li>
                            </ol>
                        </div>
                    </div>
                    <div class='row'>
                        <div class='col-md-4'>
                            <b>Alternate definitions:</b>
                            <ol>
                                <li>
                                    Of a person: favoured by good fortune; lucky, fortunate; successful. Occasionally in extended
                                    use. Now somewhat <i>rare.</i>
                                </li>
                                <li>
                                    With infinitive: willing, ready, eager to do something.
                                </li>
                                <li>
                                    <i>colloquial.</i> Slightly intoxicated, esp. so as to feel mildly elated. (1662—1998)
                                </li>
                            </ol>
                        </div>
                        <div class='col-md-4'>
                            <b>Alternate definitions:</b>
                            <ol>
                                <li>
                                    A pleasurable state or condition; a state of happiness or felicity; esp. the perfect bliss or
                                    beatitude of heaven; hence, the place of bliss, paradise, heaven; <i>Obsolete or archaic.</i>
                                    (c1275—1673)
                                </li>
                            </ol>
                        </div>
                        <div class='col-md-4'>
                            <b>Alternate definitions:</b>
                            <ol>
                                <li>
                                    As a mass noun: transport of mind, mental exaltation or absorption, ecstasy; (now esp.) ecstatic
                                    delight or joy. (1598—1990)
                                </li>
                                <li>
                                    The action or an act of carrying off a woman by force; abduction. Obsolete.
                                    (1595—1752)
                                </li>
                                <li>
                                    The act of conveying a person from one place to another, esp. to heaven; the fact of being so
                                    conveyed. Obsolete. (1609—1895)
                                </li>
                            </ol>
                        </div>
                    </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    <h4>Russian definitions (Большой толковый словарь русского языка, Кузнецов)</h4>
                </button>
              </h2>
              <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" >
                <div class="accordion-body">
                    <div class='row'>
                        <div class='col-md-4'>
                            <b>Definition of schast'ye/счастье</b>:
                            <ol>
                                <li>Состояние высшей удовлетворённости жизнью,
                                    чувство глубокого довольства и радости, испытываемое кем-л.; внешнее проявление этого чувства.
                                    [A state of high satisfaction with life, a feeling of deep contentment and joy experienced by
                                    smb.; external manifestation of this feeling.]
                                </li>
                            </ol>
            
                        </div>
                        <div class='col-md-4'>
                            <b>Definition of radost'/радость</b>:
                            <ol>
                                <li>Чувство удовольствия, ощущение большого душевного удовлетворения. [Feeling of satisfaction,
                                    feeling of great spiritual satisfaction.]</li>
                            </ol>
                        </div>
                        <div class='col-md-4'>
                            <b>Definition of vostorg/восторг</b>:
                            <ol>
                                <li>Необычайно радостное состояние, чувство восхищения. [An unusually joyful state, a sense of the
                                    highest degree of pleasure.]
                                </li>
                            </ol>
                        </div>
                    </div>
                    <div class='row'>
                        <div class='col-md-4'>
                            <b>Alternate definitions:</b>
                            <ol>
                                <li>
                                    Успех, удача [Success, luck]
                                </li>
                                <li>Разг. Участь, доля, судьба [Colloquial. Fate, share, destiny]</li>
                            </ol>
                        </div>
                        <div class='col-md-4'>
                        </div>
                        <div class='col-md-4'>
                        </div>
                    </div>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    <h4>English and Russian etymology</h4>
                </button>
              </h2>
              <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" >
                <div class="accordion-body">
                    <div class='row'>
                        <div class='col-md-4'>
                            <p><b>Happiness</b> - Derived from “hap” meaning good fortune, chance</p>
                            <p><b>Shast'ye/Счастье</b> - Orthodox origins (sъčęstь̂je) from sъ-: Old-Ind. su- "good" + * čęst
                                "part", that is, "good lot" </p>
                        </div>
                        <div class='col-md-4'>
                            <p><b>Joy</b> - Middle English: from Old French <i>joie</i>, based on Latin <i>gaudium</i>, from
                                <i>gaudere</i> ‘rejoice’
                            </p>
                            <p><b>Radost'/Радость</b> - Possible relationship with the Anglo. rót "joyful, noble", Old Norse. rǿtask
                                "to clear up, to have fun", </p>
                        </div>
                        <div class='col-md-4'>
                            <p><b>Rapture</b> - late 16th century (in the sense ‘seizing and carrying off’): from obsolete French,
                                or from medieval Latin <i>raptura</i> ‘seizing’, partly influenced by rapt.]</p>
                            <p><b>Vostorg/Восторг</b> - From <i>voz</i>+ <i>torgat'</i> (воз + торгать). <i>Voz</i> coming from
                                <i>voz</i> (cart/wagon) originally – conveyance, transference. <i>Torgat'</i> may have its roots in
                                the Indo-European tr̥ṇḗḍhi "shattered, broken" and is possibly related to Russian
                                <i>terzat'</i>/терзать, meaning torment.</p>
                        </div>
                    </div>
                </div>
              </div>
            </div>
          </div>

        <div class='row'>
            <div class='col-md-12'>
                <br><br>
                <h3>Discussion of Russian and English definitions and etymology</h3>
            </div>
        </div>
        <div class='row'>
            <div class='col-md-4'>

            </div>
            <div class='col-md-4'>

            </div>
            <div class='col-md-4'>

            </div>
        </div>
        <div class='row'>
            <div class='col-md-12'>
                <hr>
                <h2><span class='figlabel'>Figure 1: </span>
                    Happiness over time for
                    <span style='color: #3d405b'>Andrei</span>,
                    <span style='color: #81b29a'>Pierre</span>, &
                    <span style='color: #e07a5f'>Natasha</span>
                </h2>
                <h4>The line chart below covers all 17 parts of <i>War and Peace</i> across the 4 volumes and Epilogue.
                    The height of the line corresponds to the <i>count</i> of instances in the part where a character's
                    name occurs in conjunction with any one of the happiness keywords - <i>schast'ye</i> (happiness),
                    <i>radost'</i>, (joy) and <i>vostorg</i> (rapture/delight) in any form.
                    The characters are separated by individual lines (<span style='color: #3d405b'>Andrei</span>,
                    <span style='color: #81b29a'>Pierre</span>, &
                    <span style='color: #e07a5f'>Natasha</span>). Click on the circles in the legend on the right to
                    show/hide certain lines for less clutter.
                    Note that low points in the graph do not necessarily mean that a character is sad or depressed
                    during that part - the graph only indicates the presence of happy-related words.
                </h4>
                <br>
                <div id="line1"></div>
                <hr>
            </div>
        </div>
        <div class='row'>
            <div class='col-md-12'>
                <button id='showexamples'>Show textual examples mapped onto the graph</button>
            </div>
        </div>
        <div class='row examples'>
            <div class='col-md-12'>
                <h3><span class='figlabel'>Textual examples: </span>Instances of <span class='счастье'>happiness</span>,
                    <span class='радость'>joy</span>, and <span class='восторг'>rapture</span> for <span id='chosenchar'
                        style='color: gray'>(select dot
                        above)</span> <span id='timespan'></span>
                </h3>
            </div>
        </div>
        <div class='row examples' style='max-height: 600px; overflow: scroll;'>
            <div class='col-md-4'>
                <h4>Happiness - <i>schast'ye</i>/счастье <span id='счастьеct'></span></h4>
                <div id='счастьеexamples'></div>
            </div>
            <div class='col-md-4'>
                <h4>Joy - <i>radost'</i>/радость <span id='радостьct'></span></h4>
                <div id='радостьexamples'></div>
            </div>
            <div class='col-md-4'>
                <h4>Rapture - <i>vostorg</i>/восторг <span id='восторгct'></span></h4>
                <div id='восторгexamples'></div>
            </div>
        </div>
        <div class='row'>
            <div class='col-md-12'>
                <hr>
                <h3><span class='figlabel'>Figure 2: </span>Relative occurrences of <span
                        class='счастье'>happiness</span>, <span class='радость'>joy</span>, and <span
                        class='восторг'>rapture</span> throughout the novel for <span
                        style='text-decoration: underline;' id='thischar'></span></h3>
                <h4>This graph maps the same data from <i>Figure 1</i> with more detail. In this graph, counts of
                    happiness, joy, and rapture are separated, indicated by color. Click the circles on the right to
                    toggle between the different characters. The height of each color in the graph's area corresponds to
                    the number of examples with that specific keyword associated with the character.</h4>
                <br>
                <div id="stackedline"></div>
            </div>
        </div>
        <div class='row'>
            <br>
            <hr>
            <h3>Comparing co-occurrences of characters and three happiness keywords
                (<span id='счастье' class='updater счастье'>счастье</span>,
                <span id='радость' class='updater радость'>радость</span>, &
                <span id='восторг' class='updater восторг'>восторг</span>).
            </h3>
            <h4>Bar chart shows the number of counts of certain happiness words (<i>schast'ye</i>/счастье,
                <i>radost'</i>/радость, & <i>vostorg</i>/восторг) and
                different characters (Andrei, Pierre, & Natasha).
            </h4>
        </div>
        <br>
        <div class='row'>
            <div class='col-md-5'>
                <h3><span class='figlabel'>Figure 3a: </span>Happiness across characters</h3>
                <h4>For Andrei, Pierre, and Natasha (aggregated across novel).</h4><button id='reset' disabled='true'
                    style='color: gray'>Reset graph</button>
                <div id='graph'></div>
                <br>
                <div style='text-align: left;'>

                </div>
            </div>
            <div class='col-md-7'>
                <h3><span class='figlabel'>Figure 3b: </span>Happiness across the parts</h3>
                <h4>Spanning the 17 parts of the 4 volumes and Epilogue.</h4>
                <div id='allbar'></div>
            </div>
        </div>
        <div class='row'>
            <hr>
            <br><br><br><br>
        </div>
    </div>
</body>

<script src='stackedbar.js'></script>
<script src='generaljoy.js'></script>
<script src='linechart.js'></script>
<script src='stackedline.js'></script>
<script src='allbar.js'></script>
<script>
    drawLineChart("alltypes12-6.csv", 'line1')
</script>